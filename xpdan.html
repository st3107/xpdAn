

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xpdan package &mdash; xpdAn  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="xpdan.pipelines package" href="xpdan.pipelines.html" />
    <link rel="prev" title="Post Analysis" href="post_analysis.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> xpdAn
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_servers.html">Using Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="post_analysis.html">Post Analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">xpdan package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="xpdan.pipelines.html">xpdan.pipelines package</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpdan.startup.html">xpdan.startup package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xpdan-999-load-module">xpdan.999-load module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.callbacks">xpdan.callbacks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.data_reduction">xpdan.data_reduction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.data_reduction_core">xpdan.data_reduction_core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.db_utils">xpdan.db_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.dev_utils">xpdan.dev_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.fuzzybroker">xpdan.fuzzybroker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan.glbl">xpdan.glbl module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xpdan-glbl-gen-module">xpdan.glbl_gen module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xpdan-tools-module">xpdan.tools module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#xpdan-utils-module">xpdan.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-xpdan">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">xpdAn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>xpdan package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/xpdan.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="xpdan-package">
<h1>xpdan package<a class="headerlink" href="#xpdan-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="xpdan.pipelines.html">xpdan.pipelines package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="xpdan.pipelines.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.pipelines.html#module-xpdan.pipelines.main">xpdan.pipelines.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.pipelines.html#module-xpdan.pipelines.pipeline_utils">xpdan.pipelines.pipeline_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.pipelines.html#module-xpdan.pipelines.save_tiff">xpdan.pipelines.save_tiff module</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="xpdan.startup.html">xpdan.startup package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-analysis-server-module">xpdan.startup.analysis_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-db-server-module">xpdan.startup.db_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-portable-db-server-module">xpdan.startup.portable_db_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-save-server-module">xpdan.startup.save_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-viz-server-module">xpdan.startup.viz_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-tomo-server-module">xpdan.startup.tomo_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-qoi-server-module">xpdan.startup.qoi_server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpdan.startup.html#xpdan-startup-intensity-server-module">xpdan.startup.intensity_server module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="xpdan-999-load-module">
<h2>xpdan.999-load module<a class="headerlink" href="#xpdan-999-load-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-xpdan.callbacks">
<span id="xpdan-callbacks-module"></span><span id="xpdan-callbacks"></span><h2>xpdan.callbacks module<a class="headerlink" href="#module-xpdan.callbacks" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="xpdan.callbacks.SaveBaseClass">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveBaseClass</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveBaseClass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveBaseClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.vend.callbacks.core.Retrieve</span></code></p>
<p>Base class for saving files with human friendly file names.</p>
<p>For each document this class applys a format to the string based off the
document which has been seen. When the time comes for the file to be
written any templating which has not been formatted will be removed from
the filename.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template</strong> (<em>str</em>) – The templated filename</p></li>
<li><p><strong>handler_reg</strong> (<em>dict</em>) – The registry of file handlers for loading files from disk</p></li>
<li><p><strong>root_map</strong> (<em>dict</em>) – Mapping between the old file root and a new root, used for loading
files from disk</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – All extra kwargs are passed to the filename formatter when the start
document is received</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Every instance of <code class="docutils literal notranslate"><span class="pre">__independent_vars__</span></code> will be replaced with
<code class="docutils literal notranslate"><span class="pre">{name}_{data}_{units}_</span></code> for each independent variable of the experiment
in the template.</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveBaseClass.descriptor">
<code class="descname">descriptor</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveBaseClass.descriptor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveBaseClass.descriptor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xpdan.callbacks.SaveBaseClass.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveBaseClass.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveBaseClass.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xpdan.callbacks.SaveBaseClass.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveBaseClass.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveBaseClass.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SaveCalib">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveCalib</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveCalib"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveCalib" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving pyFAI calibrations as <code class="docutils literal notranslate"><span class="pre">.poni</span></code> files</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveCalib.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveCalib.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveCalib.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SaveIntensity">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveIntensity</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveIntensity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveIntensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving Q and tth <code class="docutils literal notranslate"><span class="pre">.chi</span></code> files</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveIntensity.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveIntensity.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveIntensity.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SaveMask">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveMask</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveMask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveMask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving masks as <code class="docutils literal notranslate"><span class="pre">.msk</span></code> and <code class="docutils literal notranslate"><span class="pre">.npy</span></code> files</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveMask.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveMask.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveMask.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SaveMeta">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveMeta</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving metadata files</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveMeta.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveMeta.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveMeta.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xpdan.callbacks.SaveMeta.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveMeta.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveMeta.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SavePDFgetx3">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SavePDFgetx3</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SavePDFgetx3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SavePDFgetx3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving PDF, F(Q), S(Q) files</p>
<dl class="method">
<dt id="xpdan.callbacks.SavePDFgetx3.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SavePDFgetx3.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SavePDFgetx3.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.SaveTiff">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">SaveTiff</code><span class="sig-paren">(</span><em>template</em>, <em>handler_reg</em>, <em>root_map=None</em>, <em>base_folders=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveTiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveTiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpdan.callbacks.SaveBaseClass" title="xpdan.callbacks.SaveBaseClass"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpdan.callbacks.SaveBaseClass</span></code></a></p>
<p>Callback for saving Tiff files</p>
<dl class="method">
<dt id="xpdan.callbacks.SaveTiff.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#SaveTiff.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.SaveTiff.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="xpdan.callbacks.StartStopCallback">
<em class="property">class </em><code class="descclassname">xpdan.callbacks.</code><code class="descname">StartStopCallback</code><a class="reference internal" href="_modules/xpdan/callbacks.html#StartStopCallback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.StartStopCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">bluesky.callbacks.core.CallbackBase</span></code></p>
<p>Print the time for analysis</p>
<dl class="method">
<dt id="xpdan.callbacks.StartStopCallback.event">
<code class="descname">event</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#StartStopCallback.event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.StartStopCallback.event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xpdan.callbacks.StartStopCallback.start">
<code class="descname">start</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#StartStopCallback.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.StartStopCallback.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xpdan.callbacks.StartStopCallback.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/callbacks.html#StartStopCallback.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.callbacks.StartStopCallback.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-xpdan.data_reduction">
<span id="xpdan-data-reduction-module"></span><h2>xpdan.data_reduction module<a class="headerlink" href="#module-xpdan.data_reduction" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="xpdan.data_reduction.integrate_and_save">
<code class="descclassname">xpdan.data_reduction.</code><code class="descname">integrate_and_save</code><span class="sig-paren">(</span><em>headers</em>, <em>*</em>, <em>db=&lt;databroker._core.Broker object&gt;</em>, <em>save_dir='/home/travis/acqsim/xpdUser/tiff_base'</em>, <em>visualize=False</em>, <em>polarization_factor=0.99</em>, <em>mask_setting='default'</em>, <em>mask_kwargs={'alpha': 3.0</em>, <em>'bs_width': 13</em>, <em>'edge': 30</em>, <em>'lower_thresh': 0.0</em>, <em>'tri_offset': 13</em>, <em>'v_asym': 0}</em>, <em>image_data_key='pe1_image'</em>, <em>pdf_config=None</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdan.data_reduction.integrate_and_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate and save dark subtracted images for given list of headers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>polarization_factor</strong> (<em>float, optional</em>) – polarization correction factor, ranged from -1(vertical) to +1
(horizontal). default is 0.99. set to None for no
correction.</p></li>
<li><p><strong>mask_setting</strong> (<em>str optional</em>) – If ‘default’ reuse mask created for first image, otherwise mask all
images. Defaults to ‘default’</p></li>
<li><p><strong>mask_kwargs</strong> (<em>dict, optional</em>) – dictionary stores options for automasking functionality.
default is defined by an_glbl.auto_mask_dict.
Please refer to documentation for more details</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
<li><p><strong>pdf_config</strong> (<em>dict, optional</em>) – Configuration for making PDFs, see pdfgetx3 docs. Defaults to
<code class="docutils literal notranslate"><span class="pre">dict(dataformat='QA',</span> <span class="pre">qmaxinst=28,</span> <span class="pre">qmax=22)</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>complete docstring of masking functionality could be find in
<code class="docutils literal notranslate"><span class="pre">mask_img</span></code></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">xpdan.tools.mask_img()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction.integrate_and_save_last">
<code class="descclassname">xpdan.data_reduction.</code><code class="descname">integrate_and_save_last</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdan.data_reduction.integrate_and_save_last" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate and save dark subtracted images for the latest header</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>polarization_factor</strong> (<em>float, optional</em>) – polarization correction factor, ranged from -1(vertical) to +1
(horizontal). default is 0.99. set to None for no
correction.</p></li>
<li><p><strong>mask_setting</strong> (<em>str optional</em>) – If ‘default’ reuse mask created for first image, otherwise mask all
images. Defaults to ‘default’</p></li>
<li><p><strong>mask_kwargs</strong> (<em>dict, optional</em>) – dictionary stores options for automasking functionality.
default is defined by an_glbl.auto_mask_dict.
Please refer to documentation for more details</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
<li><p><strong>pdf_config</strong> (<em>dict, optional</em>) – Configuration for making PDFs, see pdfgetx3 docs. Defaults to
<code class="docutils literal notranslate"><span class="pre">dict(dataformat='QA',</span> <span class="pre">qmaxinst=28,</span> <span class="pre">qmax=22)</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>complete docstring of masking functionality could be find in
<code class="docutils literal notranslate"><span class="pre">mask_img</span></code></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">xpdan.tools.mask_img()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction.save_last_tiff">
<code class="descclassname">xpdan.data_reduction.</code><code class="descname">save_last_tiff</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdan.data_reduction.save_last_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Save images obtained from dataBroker as tiff format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction.save_tiff">
<code class="descclassname">xpdan.data_reduction.</code><code class="descname">save_tiff</code><span class="sig-paren">(</span><em>headers</em>, <em>*</em>, <em>db=&lt;databroker._core.Broker object&gt;</em>, <em>save_dir='/home/travis/acqsim/xpdUser/tiff_base'</em>, <em>visualize=False</em>, <em>image_data_key='pe1_image'</em><span class="sig-paren">)</span><a class="headerlink" href="#xpdan.data_reduction.save_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Save images obtained from dataBroker as tiff format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-xpdan.data_reduction_core">
<span id="xpdan-data-reduction-core-module"></span><h2>xpdan.data_reduction_core module<a class="headerlink" href="#module-xpdan.data_reduction_core" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="xpdan.data_reduction_core.integrate_and_save">
<code class="descclassname">xpdan.data_reduction_core.</code><code class="descname">integrate_and_save</code><span class="sig-paren">(</span><em>headers</em>, <em>*</em>, <em>db</em>, <em>save_dir</em>, <em>visualize=False</em>, <em>polarization_factor=0.99</em>, <em>mask_setting='default'</em>, <em>mask_kwargs=None</em>, <em>image_data_key='pe1_image'</em>, <em>pdf_config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/data_reduction_core.html#integrate_and_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.data_reduction_core.integrate_and_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate and save dark subtracted images for given list of headers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>polarization_factor</strong> (<em>float, optional</em>) – polarization correction factor, ranged from -1(vertical) to +1
(horizontal). default is 0.99. set to None for no
correction.</p></li>
<li><p><strong>mask_setting</strong> (<em>str optional</em>) – If ‘default’ reuse mask created for first image, otherwise mask all
images. Defaults to ‘default’</p></li>
<li><p><strong>mask_kwargs</strong> (<em>dict, optional</em>) – dictionary stores options for automasking functionality.
default is defined by an_glbl.auto_mask_dict.
Please refer to documentation for more details</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
<li><p><strong>pdf_config</strong> (<em>dict, optional</em>) – Configuration for making PDFs, see pdfgetx3 docs. Defaults to
<code class="docutils literal notranslate"><span class="pre">dict(dataformat='QA',</span> <span class="pre">qmaxinst=28,</span> <span class="pre">qmax=22)</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>complete docstring of masking functionality could be find in
<code class="docutils literal notranslate"><span class="pre">mask_img</span></code></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">xpdan.tools.mask_img()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction_core.integrate_and_save_last">
<code class="descclassname">xpdan.data_reduction_core.</code><code class="descname">integrate_and_save_last</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/data_reduction_core.html#integrate_and_save_last"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.data_reduction_core.integrate_and_save_last" title="Permalink to this definition">¶</a></dt>
<dd><p>Integrate and save dark subtracted images for the latest header</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>polarization_factor</strong> (<em>float, optional</em>) – polarization correction factor, ranged from -1(vertical) to +1
(horizontal). default is 0.99. set to None for no
correction.</p></li>
<li><p><strong>mask_setting</strong> (<em>str optional</em>) – If ‘default’ reuse mask created for first image, otherwise mask all
images. Defaults to ‘default’</p></li>
<li><p><strong>mask_kwargs</strong> (<em>dict, optional</em>) – dictionary stores options for automasking functionality.
default is defined by an_glbl.auto_mask_dict.
Please refer to documentation for more details</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
<li><p><strong>pdf_config</strong> (<em>dict, optional</em>) – Configuration for making PDFs, see pdfgetx3 docs. Defaults to
<code class="docutils literal notranslate"><span class="pre">dict(dataformat='QA',</span> <span class="pre">qmaxinst=28,</span> <span class="pre">qmax=22)</span></code></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>complete docstring of masking functionality could be find in
<code class="docutils literal notranslate"><span class="pre">mask_img</span></code></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">xpdan.tools.mask_img()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction_core.save_last_tiff">
<code class="descclassname">xpdan.data_reduction_core.</code><code class="descname">save_last_tiff</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/data_reduction_core.html#save_last_tiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.data_reduction_core.save_last_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Save images obtained from dataBroker as tiff format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.data_reduction_core.save_tiff">
<code class="descclassname">xpdan.data_reduction_core.</code><code class="descname">save_tiff</code><span class="sig-paren">(</span><em>headers</em>, <em>*</em>, <em>db</em>, <em>save_dir</em>, <em>visualize=False</em>, <em>image_data_key='pe1_image'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/data_reduction_core.html#save_tiff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.data_reduction_core.save_tiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Save images obtained from dataBroker as tiff format files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>headers</strong> (<em>list</em>) – a list of databroker.header objects</p></li>
<li><p><strong>db</strong> (<em>databroker.broker.Broker instance</em>) – The databroker holding the data, this must be specified as a <cite>db=</cite> in
the function call (keyword only argument)</p></li>
<li><p><strong>save_dir</strong> (<em>str</em>) – The folder in which to save the data, this must be specified as a
<cite>save_dir=</cite> in the function call (keyword only argument)</p></li>
<li><p><strong>visualize</strong> (<em>bool, optional</em>) – If True visualize the data. Defaults to False</p></li>
<li><p><strong>image_data_key</strong> (<em>str, optional</em>) – The key for the image data, defaults to <cite>pe1_image</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-xpdan.db_utils">
<span id="xpdan-db-utils-module"></span><h2>xpdan.db_utils module<a class="headerlink" href="#module-xpdan.db_utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="xpdan.db_utils.query_background">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">query_background</code><span class="sig-paren">(</span><em>docs</em>, <em>db</em>, <em>schema=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#query_background"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.query_background" title="Permalink to this definition">¶</a></dt>
<dd><p>Get background data from databroker</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>Broker instance</em>)</p></li>
<li><p><strong>docs</strong> (<em>tuple of dict</em>)</p></li>
<li><p><strong>schema</strong> (<em>int</em>) – Schema version</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of headers which meet the criteria</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Header</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.query_dark">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">query_dark</code><span class="sig-paren">(</span><em>docs</em>, <em>db</em>, <em>schema=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#query_dark"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.query_dark" title="Permalink to this definition">¶</a></dt>
<dd><p>Get dark data from databroker</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>Broker instance</em>)</p></li>
<li><p><strong>docs</strong> (<em>tuple of dict</em>)</p></li>
<li><p><strong>schema</strong> (<em>int</em>) – Schema version</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of headers which meet the criteria</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Header</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.query_flat_field">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">query_flat_field</code><span class="sig-paren">(</span><em>docs</em>, <em>db</em>, <em>schema=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#query_flat_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.query_flat_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Get flat_field data from databroker</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>Broker instance</em>)</p></li>
<li><p><strong>docs</strong> (<em>tuple of dict</em>)</p></li>
<li><p><strong>schema</strong> (<em>int</em>) – Schema version</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of headers which meet the criteria</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Header</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.scan_diff">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">scan_diff</code><span class="sig-paren">(</span><em>hdrs</em>, <em>verbose=True</em>, <em>blacklist=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#scan_diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.scan_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata differences between scans in hdrs list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdrs</strong> (<em>list of Header objects</em>) – The headers to be diffed</p></li>
<li><p><strong>verbose</strong> (<em>bool, optional</em>) – If true prints the results. Defaults to True</p></li>
<li><p><strong>blacklist</strong> (<em>list of str, optional</em>) – List of keys to not be included in diff. If None, defaults to <cite>uid</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The dictionary of keys with at least one different value across the
scans. The values are the results for each header.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.scan_summary">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">scan_summary</code><span class="sig-paren">(</span><em>hdrs</em>, <em>fields=None</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#scan_summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.scan_summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide one line summaries of headers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdrs</strong> (<em>list of headers</em>) – The headers from the databroker</p></li>
<li><p><strong>fields</strong> (<em>list of str, optional</em>) – ‘Specify a list of fields to summarize. If None, the following
will be returned
<code class="docutils literal notranslate"><span class="pre">['sample_name',</span> <span class="pre">'sp_type',</span> <span class="pre">'sp_startingT',</span> <span class="pre">'sp_endingT']</span></code>
defaults to None</p></li>
<li><p><strong>verbose</strong> (<em>bool, optional</em>) – If True print the summary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of summary strings</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.sort_scans_by_hdr_key">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">sort_scans_by_hdr_key</code><span class="sig-paren">(</span><em>hdrs</em>, <em>key</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#sort_scans_by_hdr_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.sort_scans_by_hdr_key" title="Permalink to this definition">¶</a></dt>
<dd><p>In a list of hdrs, group the scans by header-key.</p>
<p>Use this function to find all the scans in the list of headers that
have a particular key value, such as ‘sample_name’=’Ni’</p>
<p>Function returns a list of indices for the position in the list,
associated with the metadata key values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdrs</strong> (<em>list of Header objects</em>) – The dictionary containing {‘key-value’:[list of scan indices]}.
For example a search over ‘sample_name’ might return
{‘Ni’:[0,1,2,3,4,9,10],’gold nanoparticles’:[5,6,7,8]}</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The scans will be sorted by the values of this metadata key,
e.g., ‘sample_name’</p></li>
<li><p><strong>verbose</strong> (<em>bool, optional</em>) – If true prints the results. Defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The dictionary containing {‘key-value’:[list of scan indices]}.
For example a search over ‘sample_name’ might return
{‘Ni’:[0,1,2,3,4,9,10],’gold nanoparticles’:[5,6,7,8]}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.db_utils.temporal_prox">
<code class="descclassname">xpdan.db_utils.</code><code class="descname">temporal_prox</code><span class="sig-paren">(</span><em>res</em>, <em>docs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/db_utils.html#temporal_prox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.db_utils.temporal_prox" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-xpdan.dev_utils">
<span id="xpdan-dev-utils-module"></span><h2>xpdan.dev_utils module<a class="headerlink" href="#module-xpdan.dev_utils" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-xpdan.fuzzybroker">
<span id="xpdan-fuzzybroker-module"></span><h2>xpdan.fuzzybroker module<a class="headerlink" href="#module-xpdan.fuzzybroker" title="Permalink to this headline">¶</a></h2>
<p>Enhanced databroker with fuzzy search options</p>
<dl class="class">
<dt id="xpdan.fuzzybroker.FuzzyBroker">
<em class="property">class </em><code class="descclassname">xpdan.fuzzybroker.</code><code class="descname">FuzzyBroker</code><span class="sig-paren">(</span><em>mds</em>, <em>reg=None</em>, <em>plugins=None</em>, <em>filters=None</em>, <em>auto_register=True</em>, <em>external_fetchers=None</em>, <em>name=None</em>, <em>event_sources=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#FuzzyBroker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.FuzzyBroker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">databroker._core.Broker</span></code></p>
<dl class="method">
<dt id="xpdan.fuzzybroker.FuzzyBroker.beamtime_dates">
<code class="descname">beamtime_dates</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#FuzzyBroker.beamtime_dates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.FuzzyBroker.beamtime_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info for each beamtime</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<em>iterable of str</em>) – The keys to be included in the return</p></li>
<li><p><strong>beamtime_key</strong> (<em>str</em>) – The key for the unique beamtime key</p></li>
<li><p><strong>print_results</strong> (<em>bool</em>) – If true prints the information</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of beamtimes and their associated information</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of dicts</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="xpdan.fuzzybroker.FuzzyBroker.fuzzy_search">
<code class="descname">fuzzy_search</code><span class="sig-paren">(</span><em>keys</em>, <em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#FuzzyBroker.fuzzy_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.FuzzyBroker.fuzzy_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search a databroker for given keys</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>keys</strong> (<em>list of str</em>) – The list of strings to be accessed</p></li>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int or ‘all’, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned, if ‘all’ all are returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This search can take a long time as they turn over the entire
databroker searching for the <code class="docutils literal notranslate"><span class="pre">search_string</span></code> please make a point to
filter the databroker to shorten the total search time</p>
</dd></dl>

<dl class="method">
<dt id="xpdan.fuzzybroker.FuzzyBroker.fuzzy_set_search">
<code class="descname">fuzzy_set_search</code><span class="sig-paren">(</span><em>key</em>, <em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#FuzzyBroker.fuzzy_set_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.FuzzyBroker.fuzzy_set_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the most similar set of values to the search string.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>key</strong> (<em>list of str</em>) – The list of strings to be accessed</p></li>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of headers which are close to the query. The queried value
will be unique in the list so a search for piLast=’Alice’ will
return only one header with Alice as the PI.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Broker</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># Contains runs from Bob, Alice, Bob, and Eve</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fuzzy_set_search</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s1">&#39;bt_piLast&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
<span class="go">[&#39;Bob&#39;, &#39;Alice&#39;, &#39;Eve&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="xpdan.fuzzybroker.FuzzyBroker.super_fuzzy_search">
<code class="descname">super_fuzzy_search</code><span class="sig-paren">(</span><em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#FuzzyBroker.super_fuzzy_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.FuzzyBroker.super_fuzzy_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search a databroker</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of headers which contain close matches</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This search can take a long time as they turn over the entire
databroker (and all of the dictionaries inside) searching for the
<code class="docutils literal notranslate"><span class="pre">search_string</span></code> please make a point to filter the databroker to
shorten the total search time.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="xpdan.fuzzybroker.beamtime_dates">
<code class="descclassname">xpdan.fuzzybroker.</code><code class="descname">beamtime_dates</code><span class="sig-paren">(</span><em>db</em>, <em>keys=('beamtime_uid'</em>, <em>'bt_safN'</em>, <em>'facility'</em>, <em>'beamline')</em>, <em>beamtime_key='beamtime_uid'</em>, <em>print_results=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#beamtime_dates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.beamtime_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Get info for each beamtime</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>databroker instance</em>) – The databroker to be searched</p></li>
<li><p><strong>keys</strong> (<em>iterable of str</em>) – The keys to be included in the return</p></li>
<li><p><strong>beamtime_key</strong> (<em>str</em>) – The key for the unique beamtime key</p></li>
<li><p><strong>print_results</strong> (<em>bool</em>) – If true prints the information</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The list of beamtimes and their associated information</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of dicts</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.fuzzybroker.fuzzy_search">
<code class="descclassname">xpdan.fuzzybroker.</code><code class="descname">fuzzy_search</code><span class="sig-paren">(</span><em>db</em>, <em>keys</em>, <em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#fuzzy_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.fuzzy_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search a databroker for given keys</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>db</strong> (<em>databroker.DataBroker instance</em>) – The databroker to be searched</p></li>
<li><p><strong>keys</strong> (<em>list of str</em>) – The list of strings to be accessed</p></li>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int or ‘all’, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned, if ‘all’ all are returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="xpdan.fuzzybroker.fuzzy_set_search">
<code class="descclassname">xpdan.fuzzybroker.</code><code class="descname">fuzzy_set_search</code><span class="sig-paren">(</span><em>db</em>, <em>key</em>, <em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#fuzzy_set_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.fuzzy_set_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the most similar set of values to the search string.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>db</strong> (<em>databroker.DataBroker instance</em>) – The databroker to be searched</p></li>
<li><p><strong>key</strong> (<em>list of str</em>) – The list of strings to be accessed</p></li>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Broker</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># Contains runs from Bob, Alice, Bob, and Eve</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fuzzy_set_search</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s1">&#39;bt_piLast&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">)</span>
<span class="go">[&#39;Bob&#39;, &#39;Alice&#39;, &#39;Eve&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="xpdan.fuzzybroker.super_fuzzy_search">
<code class="descclassname">xpdan.fuzzybroker.</code><code class="descname">super_fuzzy_search</code><span class="sig-paren">(</span><em>db</em>, <em>search_string</em>, <em>size=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/xpdan/fuzzybroker.html#super_fuzzy_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpdan.fuzzybroker.super_fuzzy_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Fuzzy search a databroker</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>db</strong> (<em>databroker.DataBroker instance</em>) – The databroker to be searched</p></li>
<li><p><strong>search_string</strong> (<em>str</em>) – The string to be searched for</p></li>
<li><p><strong>size</strong> (<em>int, optional</em>) –</p>
<dl class="simple">
<dt>The number of results to be returned.</dt><dd><p>Defaults to 100 results</p>
</dd>
</dl>
</li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-xpdan.glbl">
<span id="xpdan-glbl-module"></span><h2>xpdan.glbl module<a class="headerlink" href="#module-xpdan.glbl" title="Permalink to this headline">¶</a></h2>
<p>Shim for loading the glbl_dict from xpdconf</p>
</div>
<div class="section" id="xpdan-glbl-gen-module">
<h2>xpdan.glbl_gen module<a class="headerlink" href="#xpdan-glbl-gen-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="xpdan-tools-module">
<h2>xpdan.tools module<a class="headerlink" href="#xpdan-tools-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="xpdan-utils-module">
<h2>xpdan.utils module<a class="headerlink" href="#xpdan-utils-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-xpdan">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-xpdan" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xpdan.pipelines.html" class="btn btn-neutral float-right" title="xpdan.pipelines package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="post_analysis.html" class="btn btn-neutral float-left" title="Post Analysis" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Author

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>